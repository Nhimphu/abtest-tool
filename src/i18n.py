# i18n.py

i18n = {
    "RU": {
        "title": "Ð£Ð»ÑŒÑ‚Ð¸Ð¼Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ A/B Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
        "baseline_conversion": "Ð‘Ð°Ð·. ÐºÐ¾Ð½Ð²ÐµÑ€ÑÐ¸Ñ (%):",
        "baseline": "Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ ÐºÐ¾Ð½Ð²ÐµÑ€ÑÐ¸Ñ:",
        "expected_effect": "ÐžÐ¶. ÑÑ„Ñ„ÐµÐºÑ‚ (%):",
        "uplift": "ÐžÐ¶. ÑÑ„Ñ„ÐµÐºÑ‚:",
        "significance_level": "Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ Ð·Ð½Ð°Ñ‡. (Î±):",
        "alpha": "Î±:",
        "power": "ÐœÐ¾Ñ‰Ð½Ð¾ÑÑ‚ÑŒ (1-Î²):",
        "users_a": "A - ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸:",
        "conv_a": "A - ÐšÐ¾Ð½Ð²ÐµÑ€ÑÐ¸Ð¸:",
        "users_b": "B - ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸:",
        "conv_b": "B - ÐšÐ¾Ð½Ð²ÐµÑ€ÑÐ¸Ð¸:",
        "users_c": "C - ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸:",
        "conv_c": "C - ÐšÐ¾Ð½Ð²ÐµÑ€ÑÐ¸Ð¸:",
        "calculate_sample_size": "Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ",
        "analyze_ab": "ÐÐ½Ð°Ð»Ð¸Ð· A/B/n",
        "confidence_intervals": "Ð”Ð¾Ð². Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»Ñ‹",
        "bayesian_analysis": "Ð‘Ð°Ð¹ÐµÑ. Ð°Ð½Ð°Ð»Ð¸Ð·",
        "aa_testing": "A/A Ð¢ÐµÑÑ‚",
        "sequential_testing": "ÐŸÐ¾ÑÐ»ÐµÐ´. Ð°Ð½Ð°Ð»Ð¸Ð·",
        "clear_results": "ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ",
        "pre_exp_data": "Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´. Ð´Ð°Ð½Ð½Ñ‹Ðµ",
        "calculate_roi": "Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ROI",
        "save_plot": "Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð³Ñ€Ð°Ñ„Ð¸Ðº",
        "switch_lang": "ðŸŒ",
        "power_curve": "ÐšÑ€Ð¸Ð²Ð°Ñ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ¸",
        "bootstrap": "Ð‘ÑƒÑ‚ÑÑ‚Ñ€Ð°Ð¿",
        "export_hist_csv": "Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ CSV",
        "export_hist_xl": "Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Excel",
        "tutorial": "Ð¢ÑƒÑ‚Ð¾Ñ€Ð¸Ð°Ð»",
        "delete_selected": "Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ",
        "clear_history": "ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÑ‘",
        "history": "Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ",
        "main": "Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
        "revenue_per_user": "Ð”Ð¾Ñ…Ð¾Ð´ Ð½Ð° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ",
        "traffic_cost": "Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ñ‚Ñ€Ð°Ñ„Ð¸ÐºÐ°",
        "budget": "Ð‘ÑŽÐ´Ð¶ÐµÑ‚",
        "obrien_fleming": "O'Brien-Fleming",
        "file": "Ð¤Ð°Ð¹Ð»",
        "export_pdf": "Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ PDF",
        "export_excel": "Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Excel",
        "export_csv": "Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ CSV",
        "expected_fpr": "ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ° I Ñ€Ð¾Ð´Ð°",
        "actual_fpr": "Ð¤Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ° I Ñ€Ð¾Ð´Ð°",
        "splitting_correct": "Ð¡Ð¿Ð»Ð¸Ñ‚Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾",
        "check_splitting": "ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ¿Ð»Ð¸Ñ‚Ð¾Ð²Ð°Ð½Ð¸Ðµ",
        "significant": "Ð—Ð½Ð°Ñ‡Ð¸Ð¼Ð¾",
        "not_significant": "ÐÐµ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾",
        "winner": "ÐŸÐ¾Ð±ÐµÐ´Ð¸Ñ‚ÐµÐ»ÑŒ",
        "early_stopping": "Ð Ð°Ð½Ð½ÐµÐµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ",
        "no_result": "ÐÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°",
        "interpretation": "Ð˜Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸Ñ",
        "roi_result": "Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ROI",
    },
    "EN": {
        "title": "Ultimate A/B Testing Tool",
        "baseline_conversion": "Base Conversion (%):",
        "baseline": "Baseline:",
        "expected_effect": "Expected Effect (%):",
        "uplift": "Expected uplift:",
        "significance_level": "Significance Level (Î±):",
        "alpha": "Î±:",
        "power": "Power (1-Î²):",
        "users_a": "A - Users:",
        "conv_a": "A - Conversions:",
        "users_b": "B - Users:",
        "conv_b": "B - Conversions:",
        "users_c": "C - Users:",
        "conv_c": "C - Conversions:",
        "calculate_sample_size": "Calculate",
        "analyze_ab": "A/B/n Analysis",
        "confidence_intervals": "Confidence Intervals",
        "bayesian_analysis": "Bayesian Analysis",
        "aa_testing": "A/A Test",
        "sequential_testing": "Sequential Analysis",
        "clear_results": "Clear",
        "pre_exp_data": "Load Pre-exp Data",
        "calculate_roi": "Calculate ROI",
        "save_plot": "Save Plot",
        "switch_lang": "ðŸŒ",
        "power_curve": "Sample Size Curve",
        "bootstrap": "Bootstrap",
        "export_hist_csv": "Export history CSV",
        "export_hist_xl": "Export history Excel",
        "tutorial": "Tutorial",
        "delete_selected": "Delete Selected",
        "clear_history": "Clear All",
        "history": "History",
        "main": "Main",
        "revenue_per_user": "Revenue per user",
        "traffic_cost": "Traffic cost",
        "budget": "Budget",
        "obrien_fleming": "O'Brien-Fleming",
        "file": "File",
        "export_pdf": "Export PDF",
        "export_excel": "Export Excel",
        "export_csv": "Export CSV",
        "expected_fpr": "Expected FPR",
        "actual_fpr": "Actual FPR",
        "splitting_correct": "Splitting correct",
        "check_splitting": "Check splitting",
        "significant": "Significant",
        "not_significant": "Not significant",
        "winner": "Winner",
        "early_stopping": "Early stopping",
        "no_result": "No result",
        "interpretation": "Interpretation",
        "roi_result": "ROI Result",
    },
}


def detect_language() -> str:
    """Return 'RU' if OS locale starts with ru, else 'EN'."""
    import locale

    loc, _ = locale.getlocale()
    loc = loc or ''
    return 'RU' if str(loc).lower().startswith('ru') else 'EN'
